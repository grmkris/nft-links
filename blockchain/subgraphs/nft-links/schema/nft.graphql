type Nft @entity {
    "unique identifier and primary key of the entity"
    id: ID!
    "creator of the nft"
    creator: UserNft!
    "owner history linked to this platform"
    ownersHistory: [NftOwnerMapping!]! @derivedFrom(field: "nft")
    "current owner of the nft"
    owner: UserNft!
    "nft metadata"
    metadata: String!

    deployBlock: BigInt!
    deployTimestamp: BigInt!
    txHash: Bytes!
}

type UserNft @entity {
    "unique identifier and primary key of the entity"
    id: ID! # address
    "nfts this user is creator of"
    nftCreator: [Nft!]! @derivedFrom(field: "creator")
    "nfts this user was / is owner of"
    nftOwner: [Nft!]! @derivedFrom(field: "owner")
    nftOwnersHistory: [NftOwnerMapping!]! @derivedFrom(field: "user")
    deployBlock: BigInt!
    deployTimestamp: BigInt!
    txHash: Bytes!
}


type NftOwnerMapping @entity {
    id: ID!
    user: UserNft!
    nft: Nft!
    deployBlock: BigInt!
    deployTimestamp: BigInt!
    txHash: Bytes!
}